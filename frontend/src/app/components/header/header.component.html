<!-- header.component.html -->
<header class="bg-blue-700 text-white shadow-md relative z-20 px-20">
    <nav class="w-full px-6 py-3" #navRef>
        <div class="flex items-center">
            <ul class="flex space-x-36">
                <li>
                    <a routerLink="/dashboard" routerLinkActive="text-gray-300"
                        class="text-base font-semibold transition duration-200 text-white hover:text-gray-400">
                        Dashboard
                    </a>
                </li>

                <!-- Manage Students -->
                <li class="relative">
                    <div (click)="toggleDropdown('student')" [ngClass]="menuStyle('student')">
                        Manage Students <span class="ml-1 text-xs">&#9662;</span>
                    </div>
                    <ul *ngIf="openDropdown === 'student'"
                        class="mt-1 bg-white text-black rounded shadow px-3 py-1 space-y-1 absolute z-10 text-sm">
                        <li>
                            <a routerLink="/studentadd" (click)="closeDropdown()" class="font-bold no-underline">Add New
                                Students</a>
                        </li>
                        <li>
                            <a routerLink="/studentview" (click)="closeDropdown()" class="font-bold no-underline">View
                                Students</a>
                        </li>
                    </ul>
                </li>

                <!-- Manage Subjects -->
                <li class="relative">
                    <div (click)="toggleDropdown('subject')" [ngClass]="menuStyle('subject')">
                        Manage Subjects <span class="ml-1 text-xs">&#9662;</span>
                    </div>
                    <ul *ngIf="openDropdown === 'subject'"
                        class="mt-1 bg-white text-black rounded shadow px-3 py-1 space-y-1 absolute z-10 text-sm">
                        <li>
                            <a routerLink="/subjectedit" (click)="closeDropdown()"
                                class="font-bold hover:underline">Edit Subjects</a>
                        </li>
                        <li>
                            <a routerLink="/subjectadd" (click)="closeDropdown()" class="font-bold hover:underline">Add
                                New Subjects</a>
                        </li>
                    </ul>
                </li>

                <!-- Calculate Fee -->
                <li>
                    <a routerLink="/fees"
                        class="text-white hover:text-gray-400 font-medium text-base flex items-center">Calculate Fee</a>
                </li>

                <!-- Logout -->
                <li>
                    <button (click)="handleLogout()"
                        class="text-white pt-1 hover:text-gray-300 transition duration-200 flex items-center"
                        title="Logout">
                        <i class="text-xl">&#x2716;</i>
                    </button>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Logout Modal -->
    <div *ngIf="showLogoutModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white p-4 rounded shadow-md w-80 text-center">
            <h2 class="text-base font-semibold mb-2">Confirm Logout</h2>
            <p class="text-sm text-gray-700 mb-4">Are you sure you want to logout?</p>
            <div class="flex justify-center space-x-1">
                <button class="px-4 py-1 bg-gray-300 rounded hover:bg-gray-400 text-sm"
                    (click)="showLogoutModal = false">Cancel</button>
                <button class="px-4 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-sm"
                    (click)="confirmLogout()">Logout</button>
            </div>
        </div>
    </div>

    <!-- Success Toast -->
    <div *ngIf="showSuccess" class="fixed bottom-4 right-4 bg-green-600 text-white px-4 py-2 rounded shadow-md z-50">
        Successfully logged out.
    </div>
</header>